/* Add these where you're applying the CSS variables */
:root {
  /* Relationship colors with fallbacks */
  --extends-color: #3d75d9;
  --implements-color: #7eb36a;
  --depends-on-color: #c64f4d;
  --imports-color: #8b67ad;
  --instantiates-color: #d09144;
}

/* Additional styles for the diagram */
.node rect {
  stroke-width: 1px;
}

.node .label {
  font-weight: 500;
}

/* Base edge path style */
.edgePath path {
  stroke-width: 1px;
  fill: none;
}

/* Relationship-specific edge styles */
.extends-path path {
  stroke: var(--extends-color, #3d75d9);
  stroke-width: 2px;
}

.implements-path path {
  stroke: var(--implements-color, #7eb36a);
  stroke-width: 1.5px;
  stroke-dasharray: 5, 3;
}

.depends-on-path path {
  stroke: var(--depends-on-color, #c64f4d);
  stroke-width: 1.5px;
}

.imports-path path {
  stroke: var(--imports-color, #8b67ad);
  stroke-width: 1px;
  stroke-dasharray: 2, 2;
}

.instantiates-path path {
  stroke: var(--instantiates-color, #d09144);
  stroke-width: 1.5px;
}

.node-content {
  color: #e6e6e6;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "SF Pro", Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
  text-align: left;
}

/* Fix your edge label styles */

/* Base style for all edge labels */
.edgeLabel {
  font-size: 12px;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "SF Pro", Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
  padding: 2px 6px;
  border-radius: 4px;
  background-color: #1a1d20;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
}

/* Edge label text styles - SVG requires fill not color */
.edgeLabel text {
  fill: #c5c5c5; /* default color */
}

/* Relationship-specific label styles - using the fill property */
.edgeLabel.extends-label text {
  fill: var(--extends-color, #3d75d9) !important;
}

.edgeLabel.implements-label text {
  fill: var(--implements-color, #7eb36a) !important;
}

.edgeLabel.depends-on-label text {
  fill: var(--depends-on-color, #c64f4d) !important;
}

.edgeLabel.imports-label text {
  fill: var(--imports-color, #8b67ad) !important;
}

.edgeLabel.instantiates-label text {
  fill: var(--instantiates-color, #d09144) !important;
}

.node:hover rect {
  filter: brightness(1.2);
}

.node {
  transition: filter 0.2s;
}

/* Add these styles for the new legend elements */
.legend-section {
  display: flex;
  gap: 12px;
}

.relationship-legend {
  display: flex;
  align-items: center;
  gap: 12px;
  margin-left: 16px;
  padding-left: 16px;
  border-left: 1px solid var(--fleet-border-color);
}

.legend-line {
  width: 24px;
  height: 2px;
  margin-right: 4px;
}

.legend-line.extends-path {
  background-color: var(--extends-color);
  height: 2px;
}

.legend-line.implements-path {
  background-color: var(--implements-color);
  height: 2px;
  background-image: linear-gradient(to right, var(--implements-color) 50%, transparent 50%);
  background-size: 8px 100%;
}

.legend-line.depends-on-path {
  background-color: var(--depends-on-color);
  height: 2px;
}

.legend-line.imports-path {
  background-color: var(--imports-color);
  height: 2px;
  background-image: linear-gradient(to right, var(--imports-color) 33%, transparent 33%);
  background-size: 6px 100%;
}

.legend-line.instantiates-path {
  background-color: var(--instantiates-color);
  height: 2px;
}

.legend-item span.extends-label {
  color: var(--extends-color);
}

.legend-item span.implements-label {
  color: var(--implements-color);
}

.legend-item span.depends-on-label {
  color: var(--depends-on-color);
}

.legend-item span.imports-label {
  color: var(--imports-color);
}

.legend-item span.instantiates-label {
  color: var(--instantiates-color);
}

.search-options {
  display: flex;
  align-items: center;
  gap: 12px;
  margin-left: 8px;
}

/* Search highlighting */
.search-match rect {
  stroke: var(--fleet-accent-color);
  stroke-width: 2px;
  filter: brightness(1.1);
}

.search-related rect {
  stroke: var(--fleet-accent-color);
  stroke-width: 1px;
  stroke-dasharray: 3, 2;
}

.tooltip {
  position: absolute;
  padding: 8px 12px;
  background-color: var(--fleet-panel-bg);
  color: var(--fleet-text-color);
  border: 1px solid var(--fleet-border-color);
  border-radius: 4px;
  box-shadow: 0 2px 8px var(--fleet-shadow);
  pointer-events: none;
  z-index: 100;
  max-width: 300px;
}

.tooltip-header {
  font-weight: bold;
  margin-bottom: 4px;
}

.tooltip-matches {
  font-size: 12px;
  color: var(--fleet-accent-color);
}
